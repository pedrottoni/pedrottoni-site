import{g as N,n as S,a as T}from"./navigation.5abcd372.js";function k(Y){let{swiper:e,extendParams:y,on:X,emit:g}=Y;const L=N();y({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let c,w=T(),u;const i=[];function _(t){let o=0,r=0,a=0,l=0;return"detail"in t&&(r=t.detail),"wheelDelta"in t&&(r=-t.wheelDelta/120),"wheelDeltaY"in t&&(r=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(o=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(o=r,r=0),a=o*10,l=r*10,"deltaY"in t&&(l=t.deltaY),"deltaX"in t&&(a=t.deltaX),t.shiftKey&&!a&&(a=l,l=0),(a||l)&&t.deltaMode&&(t.deltaMode===1?(a*=40,l*=40):(a*=800,l*=800)),a&&!o&&(o=a<1?-1:1),l&&!r&&(r=l<1?-1:1),{spinX:o,spinY:r,pixelX:a,pixelY:l}}function G(){e.enabled&&(e.mouseEntered=!0)}function O(){e.enabled&&(e.mouseEntered=!1)}function I(t){return e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&T()-w<e.params.mousewheel.thresholdTime?!1:t.delta>=6&&T()-w<60?!0:(t.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),g("scroll",t.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),g("scroll",t.raw)),w=new L.Date().getTime(),!1)}function A(t){const s=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&s.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&s.releaseOnEdges)return!0;return!1}function E(t){let s=t,b=!0;if(!e.enabled||t.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const f=e.params.mousewheel;e.params.cssMode&&s.preventDefault();let o=e.el;e.params.mousewheel.eventsTarget!=="container"&&(o=document.querySelector(e.params.mousewheel.eventsTarget));const r=o&&o.contains(s.target);if(!e.mouseEntered&&!r&&!f.releaseOnEdges)return!0;s.originalEvent&&(s=s.originalEvent);let a=0;const l=e.rtlTranslate?-1:1,d=_(s);if(f.forceToAxis)if(e.isHorizontal())if(Math.abs(d.pixelX)>Math.abs(d.pixelY))a=-d.pixelX*l;else return!0;else if(Math.abs(d.pixelY)>Math.abs(d.pixelX))a=-d.pixelY;else return!0;else a=Math.abs(d.pixelX)>Math.abs(d.pixelY)?-d.pixelX*l:-d.pixelY;if(a===0)return!0;f.invert&&(a=-a);let h=e.getTranslate()+a*f.sensitivity;if(h>=e.minTranslate()&&(h=e.minTranslate()),h<=e.maxTranslate()&&(h=e.maxTranslate()),b=e.params.loop?!0:!(h===e.minTranslate()||h===e.maxTranslate()),b&&e.params.nested&&s.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const n={time:T(),delta:Math.abs(a),direction:Math.sign(a),raw:t};i.length>=2&&i.shift();const m=i.length?i[i.length-1]:void 0;if(i.push(n),m?(n.direction!==m.direction||n.delta>m.delta||n.time>m.time+150)&&I(n):I(n),A(n))return!0}else{const n={time:T(),delta:Math.abs(a),direction:Math.sign(a)},m=u&&n.time<u.time+500&&n.delta<=u.delta&&n.direction===u.direction;if(!m){u=void 0;let p=e.getTranslate()+a*f.sensitivity;const C=e.isBeginning,B=e.isEnd;if(p>=e.minTranslate()&&(p=e.minTranslate()),p<=e.maxTranslate()&&(p=e.maxTranslate()),e.setTransition(0),e.setTranslate(p),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!C&&e.isBeginning||!B&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:n.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(c),c=void 0,i.length>=15&&i.shift();const M=i.length?i[i.length-1]:void 0,H=i[0];if(i.push(n),M&&(n.delta>M.delta||n.direction!==M.direction))i.splice(0);else if(i.length>=15&&n.time-H.time<500&&H.delta-n.delta>=1&&n.delta<=6){const P=a>0?.8:.2;u=n,i.splice(0),c=S(()=>{e.slideToClosest(e.params.speed,!0,void 0,P)},0)}c||(c=S(()=>{u=n,i.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(m||g("scroll",s),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),f.releaseOnEdges&&(p===e.minTranslate()||p===e.maxTranslate()))return!0}}return s.preventDefault?s.preventDefault():s.returnValue=!1,!1}function D(t){let s=e.el;e.params.mousewheel.eventsTarget!=="container"&&(s=document.querySelector(e.params.mousewheel.eventsTarget)),s[t]("mouseenter",G),s[t]("mouseleave",O),s[t]("wheel",E)}function v(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",E),!0):e.mousewheel.enabled?!1:(D("addEventListener"),e.mousewheel.enabled=!0,!0)}function x(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,E),!0):e.mousewheel.enabled?(D("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}X("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&x(),e.params.mousewheel.enabled&&v()}),X("destroy",()=>{e.params.cssMode&&v(),e.mousewheel.enabled&&x()}),Object.assign(e.mousewheel,{enable:v,disable:x})}export{k as M};
