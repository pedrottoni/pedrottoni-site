---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

interface Props {
  depoimentos: CollectionEntry<"alunos">;
  page: string;
}

const { depoimentos, page } = Astro.props;
---

{
  (
    <swiper-container
      class="mySwiper"
      pagination="true"
      pagination-clickable="true"
      effect="cards"
    >
      {depoimentos.data.content.map((depoimento) => (
        <swiper-slide>
          <div class="aluno">
            <Image
              src={depoimento.foto}
              alt={depoimento.nome}
              width="120"
              height="90"
            />
            <div>
              <span>{depoimento.nome}</span>
              <span>{depoimento.sobre}</span>
            </div>
          </div>
          <p>{depoimento.depoimento}</p>
        </swiper-slide>
      ))}
    </swiper-container>
  )
}

<script>
  import { register } from "swiper/element/bundle";
  register();

  const swiperEl = document.querySelector("swiper-container");

  const swiperParams = {};

  Object.assign(swiperEl, swiperParams);
</script>
<style scoped>
  swiper-container {
    position: absolute;
    width: 40rem;
    height: auto;
  }
  swiper-slide {
    background: var(--clr-ice);
    width: -webkit-fill-available !important;
    padding: 2rem;
    place-self: center;
    border-radius: 1rem;
    box-shadow: 0.5rem 0.5rem 1.2rem -0.6rem rgba(0, 0, 0, 0.15);
  }
  .aluno {
    display: flex;
    flex-direction: row;
    place-items: center;
    gap: 1.4rem;
    border-bottom: 0.1rem solid var(--clr-dblue);
    padding-bottom: 1.6rem;
  }
  .aluno div span:first-child {
    font-family: var(--font-bold);
    font-size: clamp(0.9rem, 1.2vw, 1.2rem);
    line-height: 2;
  }
  .aluno div {
    display: flex;
    flex-direction: column;
  }
  swiper-slide p {
    font-family: var(--font-book);
    padding-top: 1.6rem;
  }
  swiper-container::part(pagination) {
    bottom: -2rem;
  }
  swiper-container::part(bullet-active) {
    background-color: var(--clr-lblue);
    width: 2rem;
    border-radius: 1rem;
  }
  swiper-container::part(bullet) {
    width: 2rem;
    border-radius: 1rem;
    transition: all 0.4s ease;
  }
</style>
